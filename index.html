<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A B Enterprises - Industrial Chemicals Manufacturer & Exporter</title>
  <style>
    :root{--accent:#0b63d6;--muted:#6b7280;--card:#ffffff;--bg:#f7f7fa}
    *{box-sizing:border-box}
    body{font-family:Inter,Segoe UI,Roboto,system-ui,-apple-system,Arial;margin:0;background:var(--bg);color:#111}
    
    /* Top Bar */
    .top-bar{background:#1e3a8a;height:4px;width:100%}
    
    /* Main Header */
    header{background:#fff;padding:20px 40px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e6e7eb}
    .header-content{display:flex;align-items:flex-start;justify-content:space-between;width:100%;max-width:1400px;margin:0 auto}
    .brand-section{display:flex;align-items:flex-start;gap:20px;flex:1;padding-top:4px}
    .logo-container{position:relative;width:80px;height:80px;flex-shrink:0}
    .logo-container img{width:100%;height:100%;object-fit:contain}
    .brand-info{display:flex;flex-direction:column;gap:4px}
    .brand-name{font-size:28px;font-weight:700;color:#2d3748;margin:0;line-height:1.2}
    .brand-location{font-size:14px;color:#718096;margin:0}
    .verification-badges{display:flex;align-items:center;gap:20px;margin-top:8px}
    .badge{display:flex;align-items:center;gap:6px;font-size:13px;color:#2d3748}
    .badge-icon{width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}
    .badge-icon.gst{background:#10b981;color:#fff}
    .badge-icon.trustseal{background:#fbbf24;color:#fff}
    .badge-icon svg{width:12px;height:12px}
    .header-actions{display:flex;gap:12px;align-items:center;flex-shrink:0}
    .action-btn{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:8px;border:none;cursor:pointer;transition:all 0.2s;text-decoration:none;font-size:13px;font-weight:600;white-space:nowrap;box-shadow:0 1px 3px rgba(0,0,0,0.12)}
    .action-btn.call{background:#374151;color:#fff}
    .action-btn.call:hover{background:#1f2937;transform:translateY(-1px);box-shadow:0 2px 5px rgba(0,0,0,0.15)}
    .action-btn.email{background:#facc15;color:#fff}
    .action-btn.email:hover{background:#eab308;transform:translateY(-1px);box-shadow:0 2px 5px rgba(0,0,0,0.15)}
    .action-btn .btn-icon{width:18px;height:18px;flex-shrink:0}
    .action-btn .btn-text{font-size:13px;font-weight:600;line-height:1.2}
    .action-btn .btn-subtext{font-size:10px;opacity:0.9;font-weight:400;line-height:1.2}
    
    /* Search Bar */
    .search-bar-container{background:#fff;padding:15px 40px;border-bottom:1px solid #e6e7eb}
    .search-bar-wrapper{max-width:1400px;margin:0 auto}
    .search-bar-wrapper input{width:100%;padding:12px 16px;border:1px solid #e2e4ea;border-radius:8px;font-size:14px}

    .container{max-width:1200px;margin:26px auto;padding:0 18px;display:grid;grid-template-columns:260px 1fr;gap:22px}

    /* Sidebar */
    .sidebar{background:var(--card);padding:16px;border-radius:12px;border:1px solid #eef0f4;height:fit-content;position:sticky;top:90px}
    .sidebar h3{margin:0 0 12px;font-size:15px;color:#111}
    .cats{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:6px}
    .cats a{padding:8px 10px;border-radius:8px;text-decoration:none;color:#0b1222;font-size:14px;border:1px solid transparent;display:block;transition:all 0.2s}
    .cats a:hover{background:#f3f6ff;border-color:#e3e9ff}
    .cats a.active{background:#eef6ff;border-color:#0b63d6;color:var(--accent);font-weight:500}

    /* Hero Section */
    .hero{background:linear-gradient(135deg, #0b63d6 0%, #2563eb 100%);color:#fff;padding:60px 20px;text-align:center;margin-bottom:40px}
    .hero h1{font-size:42px;margin-bottom:15px}
    .hero p{font-size:18px;max-width:800px;margin:0 auto 30px;opacity:0.95}
    .btn-primary{background:#fff;color:var(--accent);padding:12px 30px;border:none;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer;text-decoration:none;display:inline-block;transition:transform 0.2s}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.2)}

    /* Product list */
    .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px}
    .card{background:var(--card);border-radius:12px;padding:12px;border:1px solid #eef0f4;display:flex;flex-direction:column;height:100%;transition:transform 0.2s,box-shadow 0.2s}
    .card:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.1)}
    .card .thumb{height:160px;border-radius:8px;overflow:hidden;background:#f4f6fa;display:flex;align-items:center;justify-content:center}
    .card img{max-width:100%;max-height:100%;object-fit:contain}
    .card h4{font-size:15px;margin:12px 0 6px;color:#111;line-height:1.4}
    .meta{color:var(--muted);font-size:13px;margin-bottom:10px}
    .actions{margin-top:auto;display:flex;gap:8px;flex-wrap:wrap}
    .btn{padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-size:14px;transition:all 0.2s}
    .btn.primary{background:var(--accent);color:#fff}
    .btn.primary:hover{background:#0952b3}
    .btn.ghost{background:transparent;border:1px solid #dbe2f6;color:var(--accent)}
    .btn.ghost:hover{background:#f3f6ff}

    /* Product detail modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;padding:20px;z-index:1000}
    .modal .panel{width:900px;max-width:100%;background:#fff;border-radius:12px;padding:18px;display:flex;gap:18px;position:relative;max-height:90vh;overflow-y:auto}
    .panel .gallery{flex:1}
    .panel .info{flex:1}
    .panel .gallery img{width:100%;height:380px;object-fit:contain;border-radius:8px;background:#f4f6fa}
    .panel .info h3{margin:0 0 10px;font-size:20px;color:#111}
    .panel .info .meta{margin-bottom:15px}
    .panel .info p{color:#555;line-height:1.6;margin-bottom:15px}
    .close{position:absolute;right:18px;top:18px;background:#fff;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:1px solid #e6e8ee;cursor:pointer;font-size:20px;color:#666;transition:all 0.2s;z-index:10}
    .close:hover{background:#f5f5f5;color:#111}
    
    /* Contact Form Modal */
    .contact-modal .panel{width:450px;max-width:90%;padding:30px;display:block}
    .contact-modal .panel h3{margin:0 0 25px;font-size:22px;color:#111;font-weight:600}
    .contact-form-group{margin-bottom:20px}
    .contact-form-group label{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#333}
    .mobile-input-wrapper{display:flex;border:1px solid #0b63d6;border-radius:8px;overflow:hidden}
    .country-code-select{display:flex;align-items:center;padding:12px 15px;background:#f8f9fa;border-right:1px solid #e5e7eb;cursor:pointer;gap:8px}
    .country-code-select select{border:none;background:transparent;font-size:14px;color:#111;cursor:pointer;outline:none;appearance:none;padding-right:20px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right center}
    .country-code-select .flag{width:20px;height:15px;background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 3 2'%3E%3Crect width='3' height='1' fill='%23FF9933'/%3E%3Crect y='1' width='3' height='1' fill='%23FFFFFF'/%3E%3Crect y='1.5' width='3' height='0.5' fill='%23000000'/%3E%3Ccircle cx='1.5' cy='1' r='0.3' fill='%23000000'/%3E%3C/svg%3E") no-repeat center;background-size:contain}
    .mobile-input-wrapper input{flex:1;padding:12px 15px;border:none;font-size:14px;outline:none}
    .mobile-input-wrapper input::placeholder{color:#999}
    .contact-form-hint{font-size:12px;color:#666;margin-top:6px}
    .contact-now-btn{width:100%;padding:14px;background:#20b2aa;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background 0.2s;margin-top:10px}
    .contact-now-btn:hover{background:#1a9a92}

    /* Featured Products Section */
    .featured-section{padding:40px 20px;max-width:1200px;margin:0 auto}
    .section-title{font-size:32px;margin-bottom:30px;color:#111;text-align:center}

    /* About Section */
    .about-section{background:#fff;padding:60px 20px;margin:50px 0}
    .about-content{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:center}
    .about-text h2{font-size:32px;color:#111;margin-bottom:20px}
    .about-text p{margin-bottom:15px;color:#555;line-height:1.8}
    .company-info{background:#f8f9fa;padding:25px;border-radius:8px}
    .company-info h3{color:#111;margin-bottom:15px;font-size:18px}
    .info-item{margin-bottom:10px;display:flex;justify-content:space-between;padding-bottom:8px;border-bottom:1px solid #e5e7eb}
    .info-item:last-child{border-bottom:none}
    .info-label{font-weight:600;color:#111}
    .info-value{color:var(--muted)}

    footer{margin-top:28px;padding:24px;background:#fff;border-top:1px solid #e6e7eb}
    .footer-content{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;margin-bottom:20px}
    .footer-section h3{margin-bottom:15px;font-size:16px;color:#111}
    .footer-section ul{list-style:none;padding:0}
    .footer-section ul li{margin-bottom:8px}
    .footer-section a{color:var(--muted);text-decoration:none;font-size:14px;transition:color 0.2s}
    .footer-section a:hover{color:var(--accent)}
    .footer-bottom{max-width:1200px;margin:0 auto;padding-top:20px;border-top:1px solid #e5e7eb;text-align:center;color:var(--muted);font-size:13px}

    /* Responsive */
    @media (max-width:880px){
      header{padding:15px 20px}
      .header-content{flex-direction:column;gap:20px;align-items:flex-start}
      .brand-section{flex-direction:column;align-items:flex-start;width:100%}
      .verification-badges{flex-wrap:wrap;gap:12px}
      .header-actions{width:100%;justify-content:flex-start;flex-wrap:wrap;gap:10px}
      .action-btn{flex:0 1 auto;min-width:auto}
      .search-bar-container{padding:15px 20px}
      .container{grid-template-columns:1fr}
      .sidebar{order:2;position:relative;top:0}
      .about-content{grid-template-columns:1fr}
      .hero h1{font-size:28px}
      .products{grid-template-columns:1fr}
      .modal .panel{flex-direction:column}
    }
  </style>
</head>
<body>
  <div class="top-bar"></div>
  <header>
    <div class="header-content">
      <div class="brand-section">
        <div class="logo-container">
          <img src="a-b-enterprises-120x120-90x90.webp" alt="A B Enterprises Logo" />
        </div>
        <div class="brand-info">
          <h1 class="brand-name">A B Enterprises</h1>
          <p class="brand-location">Mumbai, Maharashtra</p>
          <div class="verification-badges">
            <div class="badge">
              <div class="badge-icon gst">
                <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              </div>
              <span>GST No. 27AAAFA2099R1ZY</span>
            </div>
            <div class="badge">
              <div class="badge-icon trustseal">
                <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              </div>
              <span>TrustSEAL Verified</span>
            </div>
          </div>
        </div>
      </div>
      <div class="header-actions">
        <a href="tel:08048966876" class="action-btn call">
          <svg class="btn-icon" fill="currentColor" viewBox="0 0 20 20"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/></svg>
          <div style="display:flex;flex-direction:column;align-items:flex-start;gap:1px">
            <span class="btn-text">Call 08048966876</span>
            <span class="btn-subtext">92% Response Rate</span>
          </div>
        </a>
        <a href="mailto:info@xxxx.com" class="action-btn email">
          <svg class="btn-icon" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/></svg>
          <span class="btn-text">SEND EMAIL</span>
        </a>
      </div>
    </div>
  </header>
  
  <div class="search-bar-container">
    <div class="search-bar-wrapper">
      <input id="q" placeholder="Search chemicals, CAS number, product name..." />
    </div>
  </div>

  <main>
    <!-- HOME PAGE -->
    <section class="hero">
      <h1>A B Enterprises</h1>
      <p>Manufacturer and Exporter of Industrial Chemicals. We serve chemical, pharma, textile, food and other industries, with wide array of diversified chemicals and paints.</p>
      <a href="#products" class="btn-primary" id="goToCatalog">Explore Our Products</a>
    </section>

    <!-- PRODUCT CATALOG PAGE -->
    <div id="catalogSection" class="container" style="display:none;">
      <aside class="sidebar">
        <h3>Product Categories</h3>
        <ul class="cats" id="categories"><!-- populated by JS --></ul>
      </aside>

      <section>
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px">
          <div>
            <h2 style="margin:0" id="catTitle">All Products</h2>
            <div style="color:var(--muted);font-size:13px">Browse our full chemical catalog.</div>
          </div>
          <select id="sort" style="padding:8px 12px;border:1px solid #e2e4ea;border-radius:8px;font-size:14px">
            <option value="relevance">Sort: Relevance</option>
            <option value="name">Name A–Z</option>
          </select>
        </div>

        <div class="products" id="productGrid"></div>
      </section>
    </div>

    <!-- FEATURED PRODUCTS SECTION -->
    <section id="products" class="featured-section">
      <h2 class="section-title">Featured Products</h2>
      <div class="products" id="featuredGrid"></div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="about-section">
      <div class="about-content">
        <div class="about-text">
          <h2>About Company</h2>
          <p>We are manufacturer and exporter of industrial chemicals. We serve chemical, pharma, textile, food and other industries, with wide array of diversified chemicals and paints.</p>
          <p>Founded with a vision to achieve a premium spot in the Indian Export Sector, we at A.B. Enterprises not only export quality products to our clients world over but also provide them with the biggest business opportunities.</p>
          <p>We manufacture chemicals such as textile chemicals, laboratory chemicals, food ingredient, food chemicals etc.</p>
        </div>
        <div class="company-info">
          <h3>Company Details</h3>
          <div class="info-item">
            <span class="info-label">Nature of Business:</span>
            <span class="info-value">Trader - Retailer</span>
          </div>
          <div class="info-item">
            <span class="info-label">GST Registration Date:</span>
            <span class="info-value">01-07-2017</span>
          </div>
          <div class="info-item">
            <span class="info-label">Legal Status of Firm:</span>
            <span class="info-value">Partnership</span>
          </div>
          <div class="info-item">
            <span class="info-label">Annual Turnover:</span>
            <span class="info-value">1.5 - 5 Cr</span>
          </div>
          <div class="info-item">
            <span class="info-label">Import Export Code (IEC):</span>
            <span class="info-value">0303039906</span>
          </div>
          <div class="info-item">
            <span class="info-label">GST No.:</span>
            <span class="info-value">27AAAFA2099R1ZY</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Product Detail Modal -->
  <div class="modal" id="productModal">
    <div class="panel">
      <div style="flex:1">
        <div class="gallery" id="modalGallery"><img src="" alt="" style="width:100%;height:380px;object-fit:contain;border-radius:8px;background:#f4f6fa"></div>
      </div>
      <div class="info">
        <h3 id="mTitle">Product title</h3>
        <div class="meta" id="mCas">CAS: -</div>
        <p id="mDesc">Short product description...</p>
        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="btn primary" id="modalAskPrice">Ask For Price</button>
          <button class="btn ghost" id="reqCallback">Request Callback</button>
        </div>
      </div>
      <button class="close" id="closeProductModal">✕</button>
    </div>
  </div>

  <!-- Contact Form Modal -->
  <div class="modal contact-modal" id="contactModal">
    <div class="panel">
      <button class="close" id="closeContactModal" style="right:18px;top:18px">✕</button>
      <h3>Share your requirement with "A B Enterprises"</h3>
      <form id="contactForm" onsubmit="handleContactSubmit(event)">
        <div class="contact-form-group">
          <label for="mobileNumber">Mobile Number</label>
          <div class="mobile-input-wrapper">
            <div class="country-code-select">
              <span class="flag"></span>
              <select id="countryCode">
                <option value="+91">+91</option>
                <option value="+1">+1</option>
                <option value="+44">+44</option>
              </select>
            </div>
            <input type="tel" id="mobileNumber" placeholder="Enter your mobile" required pattern="[0-9]{10}" maxlength="10" />
          </div>
          <div class="contact-form-hint">We will contact you on this number</div>
        </div>
        <button type="submit" class="contact-now-btn">Contact Now</button>
      </form>
    </div>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Reach Us</h3>
        <p><strong>Manoharlal Bang (Partner)</strong></p>
        <p>A B Enterprises</p>
        <p>711, Damji Shamji Corporate Square Wing B,<br>
        Rajaram Bane Marg, Laxmi Nagar, Ghatkopar<br>
        Mumbai - 400075, Maharashtra, India</p>
      </div>
      <div class="footer-section">
        <h3>Our Company</h3>
        <ul>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Testimonial</a></li>
          <li><a href="#">Corporate Presentation</a></li>
          <li><a href="#">Corporate Video</a></li>
          <li><a href="#">Corporate Brochure</a></li>
          <li><a href="#contact">Contact Us</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Products</h3>
        <ul>
          <li><a href="industrial-chemicals.html">Industrial Chemicals</a></li>
          <li><a href="industrial-chemicals.html">Laboratory Chemical</a></li>
          <li><a href="industrial-chemicals.html">Speciality Chemical</a></li>
          <li><a href="industrial-chemicals.html">Water Treatment Chemicals</a></li>
          <li><a href="industrial-chemicals.html">Pharmaceutical Ingredients</a></li>
          <li><a href="industrial-chemicals.html">Solvents</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Contact</h3>
        <p><strong>Call Us</strong></p>
        <p>08048966876</p>
        <p>Call Response Rate: 92%</p>
        <p style="margin-top: 15px;">
          <a href="mailto:info@xxxx.com">Send E-mail</a>
        </p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© A B Enterprises. All Rights Reserved (Terms of Use)</p>
    </div>
  </footer>

  <script>
    // Enhanced data with categories
    const products = [
      {id:1,title:"R -2-Amino-2-(Cyclohexa-1,4-Dien-1-yl)Acetic Acid",cas:"26774-88-9",img:"https://via.placeholder.com/400x300?text=Product+1",desc:"High purity chemical for research and industrial use.",category:"Industrial Chemicals"},
      {id:2,title:"2-acetamido-2-deoxy-alpha-d- Glucopyranosylchloride-3,4,6- Triacetate",cas:"-",img:"https://via.placeholder.com/400x300?text=Product+2",desc:"Speciality reagent used in glycosylation reactions.",category:"Laboratory Chemical"},
      {id:3,title:"(4s)-4-(Aminomethyl)-1,3-Oxazolidin-2-One, 1hydrochloride Salt",cas:"-",img:"https://via.placeholder.com/400x300?text=Product+3",desc:"Intermediate used in pharmaceutical synthesis.",category:"Pharmaceutical Ingredients"},
      {id:4,title:"Anti-Human Igg (Gama-Chain Specific)-Fitc",cas:"-",img:"https://via.placeholder.com/400x300?text=Product+4",desc:"Biological reagent for immunoassays.",category:"Speciality Chemicals"},
      {id:5,title:"Dehydroisoandrosterone 3- Sulfate Sodium Salt Dihydrate",cas:"-",img:"https://via.placeholder.com/400x300?text=Product+5",desc:"Steroid derivative for pharmaceutical applications.",category:"Industrial Chemicals"},
      {id:6,title:"N-2-acetamido Phenethyl-1- Hydroxy-2-naphthamide",cas:"-",img:"https://via.placeholder.com/400x300?text=Product+6",desc:"Chemical compound for research purposes.",category:"Industrial Chemicals"},
      {id:7,title:"3-acetamido-5-boronic Benzoic Acid",cas:"-",img:"https://via.placeholder.com/400x300?text=Product+7",desc:"Boronic acid derivative for synthesis.",category:"Industrial Chemicals"},
      {id:8,title:"2-acetamido-5- Fluorobenzoic Acid",cas:"-",img:"https://via.placeholder.com/400x300?text=Product+8",desc:"Fluorinated benzoic acid derivative.",category:"Industrial Chemicals"}
    ];

    const categories = ["All Products","Industrial Chemicals","Laboratory Chemical","Pharmaceutical Ingredients","Solvents","Speciality Chemicals"]

    const grid = document.getElementById('productGrid')
    const featuredGrid = document.getElementById('featuredGrid')
    const cats = document.getElementById('categories')
    const homeSection = document.querySelector('.hero')
    const catalogSection = document.getElementById('catalogSection')
    const goToCatalog = document.getElementById('goToCatalog')
    const catTitle = document.getElementById('catTitle')

    // build category list with click handlers
    function buildCategories(){
      cats.innerHTML = ''
      categories.forEach(c=>{
        const li = document.createElement('li')
        const a = document.createElement('a')
        a.href = '#'
        a.textContent = c
        a.dataset.cat = c
        a.addEventListener('click', (e)=>{
          e.preventDefault()
          selectCategory(c)
        })
        li.appendChild(a)
        cats.appendChild(li)
      })
    }

    function selectCategory(category){
      // update active class
      Array.from(cats.querySelectorAll('a')).forEach(a=>{
        if(a.dataset.cat === category) {
          a.classList.add('active')
        } else {
          a.classList.remove('active')
        }
      })

      // update title and render products
      catTitle.textContent = (category === 'All Products') ? 'All Products' : category
      
      // Get search query if any
      const searchQuery = document.getElementById('q').value.toLowerCase()
      let list = products
      if(category !== 'All Products') list = products.filter(p => p.category === category)
      
      // Apply search filter if there's a search query
      if(searchQuery) {
        list = list.filter(p=>p.title.toLowerCase().includes(searchQuery) || p.cas.toLowerCase().includes(searchQuery))
      }
      
      renderList(list)

      // ensure catalog is visible
      catalogSection.style.display = ''
      catalogSection.scrollIntoView({behavior:'smooth'})
    }

    function renderList(list){
      grid.innerHTML = ''
      if(list.length === 0){
        grid.innerHTML = '<div style="grid-column:1/-1;color:var(--muted);padding:20px;background:#fff;border-radius:8px;border:1px solid #eef0f4">No products found in this category.</div>'
        return
      }
      list.forEach(p=>{
        const card=document.createElement('article')
        card.className='card'
        card.innerHTML = `
          <div class="thumb"><img src="${p.img}" alt="${p.title}"/></div>
          <h4>${p.title}</h4>
          <div class="meta">CAS: ${p.cas}</div>
          <div class="meta">Category: ${p.category}</div>
          <div class="actions">
            <button class="btn primary" onclick="openContactModalDirect(${p.id})">Ask For Price</button>
            <button class="btn ghost" onclick="openModal(${p.id})">Details</button>
          </div>`
        grid.appendChild(card)
      })
    }

    function renderFeatured(){
      featuredGrid.innerHTML = ''
      const featured = products.slice(0, 8)
      featured.forEach(p=>{
        const card=document.createElement('article')
        card.className='card'
        card.innerHTML = `
          <div class="thumb"><img src="${p.img}" alt="${p.title}"/></div>
          <h4>${p.title}</h4>
          <div class="meta">CAS: ${p.cas}</div>
          <div class="actions">
            <button class="btn primary" onclick="openContactModalDirect(${p.id})">Ask For Price</button>
            <button class="btn ghost" onclick="openModal(${p.id})">Details</button>
          </div>`
        featuredGrid.appendChild(card)
      })
    }

    function openContactModalDirect(id){
      currentProductId = id
      document.getElementById('contactModal').style.display='flex'
    }

    let currentProductId = null

    function openModal(id){
      const p = products.find(x=>x.id===id)
      if(!p) return
      currentProductId = id
      document.getElementById('productModal').style.display='flex'
      document.getElementById('modalGallery').innerHTML = `<img src="${p.img}" alt="${p.title}" style="width:100%;height:380px;object-fit:contain;border-radius:8px;">`
      document.getElementById('mTitle').textContent = p.title
      document.getElementById('mCas').textContent = 'CAS: '+p.cas
      document.getElementById('mDesc').textContent = p.desc
    }

    function openContactModal(){
      document.getElementById('productModal').style.display='none'
      document.getElementById('contactModal').style.display='flex'
    }

    function handleContactSubmit(e){
      e.preventDefault()
      const countryCode = document.getElementById('countryCode').value
      const mobileNumber = document.getElementById('mobileNumber').value
      const fullNumber = countryCode + mobileNumber
      
      // Here you would typically send this to a server
      alert(`Thank you! We will contact you at ${fullNumber} shortly.`)
      
      // Close modal and reset form
      document.getElementById('contactModal').style.display='none'
      document.getElementById('contactForm').reset()
    }

    // Close buttons
    document.getElementById('closeProductModal').addEventListener('click',()=>{
      document.getElementById('productModal').style.display='none'
    })
    document.getElementById('closeContactModal').addEventListener('click',()=>{
      document.getElementById('contactModal').style.display='none'
    })
    
    // Ask For Price and Request Callback buttons
    document.getElementById('modalAskPrice').addEventListener('click',()=>{
      openContactModal()
    })
    document.getElementById('reqCallback').addEventListener('click',()=>{
      openContactModal()
    })
    
    // Close modals on outside click
    document.getElementById('productModal').addEventListener('click', (e)=>{
      if(e.target.id === 'productModal'){
        document.getElementById('productModal').style.display='none'
      }
    })
    document.getElementById('contactModal').addEventListener('click', (e)=>{
      if(e.target.id === 'contactModal'){
        document.getElementById('contactModal').style.display='none'
      }
    })

    // search box - filters across visible products
    document.getElementById('q').addEventListener('input',e=>{
      const q = e.target.value.toLowerCase()
      
      // Check if catalog section is visible (not display:none)
      const isCatalogVisible = catalogSection.style.display !== 'none' && window.getComputedStyle(catalogSection).display !== 'none'
      
      if(isCatalogVisible){
        // Filter in catalog section
        const visibleCategory = catTitle.textContent === 'All Products' ? null : catTitle.textContent
        let source = products
        if(visibleCategory) source = products.filter(p => p.category === visibleCategory)
        
        if(q === '') {
          // If search is empty, show all products in current category
          renderList(source)
        } else {
          // Filter by search query
          const filtered = source.filter(p=>p.title.toLowerCase().includes(q) || p.cas.toLowerCase().includes(q))
          renderList(filtered)
        }
      } else {
        // Filter featured products section
        if(q === '') {
          renderFeatured()
          return
        }
        const filtered = products.filter(p=>p.title.toLowerCase().includes(q) || p.cas.toLowerCase().includes(q))
        featuredGrid.innerHTML = ''
        if(filtered.length === 0){
          featuredGrid.innerHTML = '<div style="grid-column:1/-1;color:var(--muted);padding:20px;background:#fff;border-radius:8px;border:1px solid #eef0f4;text-align:center">No products found matching your search.</div>'
          return
        }
        filtered.forEach(p=>{
          const card=document.createElement('article')
          card.className='card'
          card.innerHTML = `
            <div class="thumb"><img src="${p.img}" alt="${p.title}"/></div>
            <h4>${p.title}</h4>
            <div class="meta">CAS: ${p.cas}</div>
            <div class="actions">
              <button class="btn primary" onclick="openContactModalDirect(${p.id})">Ask For Price</button>
              <button class="btn ghost" onclick="openModal(${p.id})">Details</button>
            </div>`
          featuredGrid.appendChild(card)
        })
      }
    })

    // Explore Products button
    goToCatalog.addEventListener('click', (e)=>{
      e.preventDefault()
      // Hide hero section
      homeSection.style.display = 'none'
      // Show catalog section
      catalogSection.style.display = ''
      selectCategory('All Products')
      catalogSection.scrollIntoView({behavior:'smooth'})
    })

    // Sorting
    document.getElementById('sort').addEventListener('change', e=>{
      const val = e.target.value
      if(val === 'name'){
        const sorted = products.slice().sort((a,b)=>a.title.localeCompare(b.title))
        const visibleCategory = catTitle.textContent === 'All Products' ? null : catTitle.textContent
        let list = sorted
        if(visibleCategory) list = sorted.filter(p => p.category === visibleCategory)
        renderList(list)
      } else {
        selectCategory(catTitle.textContent || 'All Products')
      }
    })


    // initial build
    buildCategories()
    renderFeatured()
  </script>
</body>
</html>
