<div class="admin-container">
  <h1>Admin Panel</h1>

  <div class="forms-section">
    <!-- Add Product Form -->
    <div class="form-card">
      <h2>Add Product</h2>
      <form [formGroup]="productForm" (ngSubmit)="onSubmitProduct()">
        <div class="form-group">
          <label for="productTitle">Title:</label>
          <input type="text" id="productTitle" formControlName="title" required>
        </div>

        <div class="form-group">
          <label for="productCasNumber">CAS Number:</label>
          <input type="text" id="productCasNumber" formControlName="casNumber">
        </div>

        <div class="form-group">
          <label for="productImageUrl">Image URL:</label>
          <input type="url" id="productImageUrl" formControlName="imageUrl">
        </div>

        <div class="form-group">
          <label for="productDescription">Description:</label>
          <textarea id="productDescription" formControlName="description" rows="3"></textarea>
        </div>

        <div class="form-group">
          <label for="productCategory">Category:</label>
          <select id="productCategory" formControlName="categoryId" required>
            <option value="">Select Category</option>
            @for (category of categories(); track category.id) {
              <option [value]="category.id">
                {{ category.name }}
              </option>
            }
          </select>
        </div>

        <button type="submit" [disabled]="!productForm.valid">Add Product</button>
      </form>
    </div>

    <!-- Add Category Form -->
    <div class="form-card">
      <h2>Add Category</h2>
      <form [formGroup]="categoryForm" (ngSubmit)="onSubmitCategory()">
        <div class="form-group">
          <label for="categoryName">Name:</label>
          <input type="text" id="categoryName" formControlName="name" required>
        </div>

        <div class="form-group">
          <label for="categorySlug">Slug:</label>
          <input type="text" id="categorySlug" formControlName="slug" required>
        </div>

        <div class="form-group">
          <label for="categoryUrl">URL:</label>
          <input type="text" id="categoryUrl" formControlName="url" required>
        </div>

        <button type="submit" [disabled]="!categoryForm.valid">Add Category</button>
      </form>
    </div>

  </div>

  <!-- Data Display Section -->
  <div class="data-section">
    <div class="data-card">
      <h2>Categories ({{ categories().length }})</h2>
      <div class="data-list">
        @for (category of categories(); track category.id) {
          <div class="data-item">
            <strong>{{ category.name }}</strong>
            <br>
            <small>Slug: {{ category.slug }} | URL: {{ category.url }}</small>
          </div>
        }
      </div>
    </div>

    <div class="data-card">
      <h2>Products ({{ products().length }})</h2>
      <div class="data-list">
        @for (product of products(); track product.id) {
          <div class="data-item">
            <strong>{{ product.title }}</strong>
            <br>
            <small>CAS: {{ product.casNumber }} | Category: {{ product.category }}</small>
          </div>
        }
      </div>
    </div>
  </div>
</div>
